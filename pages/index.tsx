import React, { useEffect, useRef } from "react";
import Head from "next/head";
import Image from "next/image";
import styles from "../styles/Home.module.css";
import Web3Modal from "web3modal";
import WalletConnectProvider from "@walletconnect/web3-provider";
import Grid from "@mui/material/Grid";
import { theme } from "../styles/Theme";
import Typography from "@mui/material/Typography";
import Button from "@mui/material/Button";
import { useRouter } from "next/router";
import { useWeb3 } from "../hooks/Web3Contaxt";
import Logo from "../icons/image.svg";
import ChainLogo from "../icons/chainS.png";
import PackLogo from "../icons/packshi.png";
import FuruLogo from "../icons/furuC.png";
import Typewriter from "typewriter-effect";
import CanvasBackground from "../components/CanvasBackground";
import { height } from "@mui/system";
import Footer from "../components/Footer";

const Home = ({ timeout = 50 }) => {
  const { connectWallet, connected } = useWeb3();
  const router = useRouter();

  useEffect(() => {
    if (connected == true) {
      router.push("/dashboard");
    }
  }, [!connected]);

  return (
    <div
      className={styles.container}
      style={{
        backgroundColor: "transparent",
      }}
    >
      <Head>
        <title>Fountain Farm</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <CanvasBackground />
        <Grid
          container
          pt={15}
          style={{
            display: "flex",
            flexDirection: "column",
            justifyContent: "center",
            alignItems: "center",
          }}
        >
          <Image src={Logo} alt="SVG logo image" width={460} height={250} />
          <div className={styles.title}>
            <Typewriter
              options={{
                strings: [
                  "Hey you...",
                  "Welcome to Fountain Finance",
                  "A Goli farming platform",
                  "Connect your MetaMask to start",
                ],
                autoStart: true,
                loop: true,
              }}
            />
          </div>
        </Grid>

        <Grid
          container
          pt={10}
          spacing={2}
          style={{
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
          }}
        >
          <Grid item>
            <Button
              variant="contained"
              color="primary"
              onClick={() => connectWallet()}
            >
              CONNECT
            </Button>
          </Grid>
          <Footer />
        </Grid>
      </main>
    </div>
  );
};
export default Home;
