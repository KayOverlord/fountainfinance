import React, { useEffect } from 'react';
import Head from 'next/head';
import Image from 'next/image';
import styles from '../styles/Home.module.css';
import Web3Modal from "web3modal";
import WalletConnectProvider from "@walletconnect/web3-provider";
import Grid from '@mui/material/Grid';
import { theme } from '../styles/Theme';
import Typography from '@mui/material/Typography';
import Button from '@mui/material/Button';
import { useRouter } from 'next/router'
import { useWeb3 } from '../hooks/Web3Contaxt';
import Logo from '../icons/image.svg';
import Typewriter from 'typewriter-effect';


const Home=()=>{
const {connectWallet,connected}=useWeb3();
const router = useRouter();
  
useEffect(() => {
  
  if(connected==true){
    router.push("/dashboard")
  }
}, [!connected]);



  return (
    <div
      className={styles.container}
      style={{
        backgroundColor: theme.palette.background.default,
      }}
    >
      <Head>
        <title>Fountain Farm</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <Image src={Logo} alt="SVG logo image" width={250} height={250} />
        <Typography className={styles.title}>
          <Typewriter
            options={{
              strings: [" Welcome to the Fountain Farm", "A Fountain Finance product"],
              autoStart: true,
              loop: true,
            }}
          />
        </Typography>

        <Typography color="primary" pt={2} >
          Get started yield farming
        </Typography>

        <Grid
          container
          spacing={2}
          style={{
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
          }}
        >
          <Grid item>
            <Button
              variant="contained"
              color="primary"
              onClick={() => connectWallet()}
            >
              CONNECT
            </Button>
          </Grid>
        </Grid>
      </main>
    </div>
  );
}
export default Home